# ChurnShield: Predict and Prevent Customer Loss üõ°Ô∏èüöÄ

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞  
ChurnShield ‚Äî —ç—Ç–æ ML-—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç—Ç–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ (churn) –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö –¥–∞–Ω–Ω—ã—Ö.  
**–¶–µ–ª—å:** –ü–æ–º–æ—á—å –∫–æ–º–ø–∞–Ω–∏—è–º –≤—ã—è–≤–ª—è—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –≤—ã—Å–æ–∫–∏–º —Ä–∏—Å–∫–æ–º —É—Ö–æ–¥–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Ö.  
**–°—Ç–µ–∫:** FastAPI, CatBoost, Docker, Pandas.  

---

## –§–∏—á–∏ üìä  
–ú–æ–¥–µ–ª—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤:  

### **–î–µ–º–æ–≥—Ä–∞—Ñ–∏—è** üë•  
- `customerID` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ üÜî  
- `gender` ‚Äî –ø–æ–ª (Male/Female) üë±‚ôÄÔ∏èüë±‚ôÇÔ∏è  
- `SeniorCitizen` ‚Äî —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∫–ª–∏–µ–Ω—Ç –ø–µ–Ω—Å–∏–æ–Ω–µ—Ä–æ–º (0/1) üë¥  

### **–£—Å–ª—É–≥–∏ –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã** üìûüíº  
- `PhoneService` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è —Å–≤—è–∑—å (0/1) üìü  
- `MultipleLines` ‚Äî –Ω–∞–ª–∏—á–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö –ª–∏–Ω–∏–π (0/1/2) üìû√ó2  
- `InternetService` ‚Äî —Ç–∏–ø –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—É—Å–ª—É–≥ (DSL, Fiber optic, No) üåê  
- `Contract` ‚Äî —Å—Ä–æ–∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (Month-to-month, One year, Two year) üìù  
- `PaperlessBilling` ‚Äî –±–µ–∑–±—É–º–∞–∂–Ω—ã–π –±–∏–ª–ª–∏–Ω–≥ (0/1) üìÑüö´  
- `PaymentMethod` ‚Äî —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã (Electronic check, Mailed check, Bank transfer, Credit card) üí≥  

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏** üõ†Ô∏èüì∫  
- `OnlineSecurity` ‚Äî –æ–Ω–ª–∞–π–Ω-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (0/1) üîí  
- `OnlineBackup` ‚Äî –æ–Ω–ª–∞–π–Ω-–±—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö (0/1) üíæ  
- `DeviceProtection` ‚Äî –∑–∞—â–∏—Ç–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (0/1) üì±üõ°Ô∏è  
- `TechSupport` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (0/1) üõ†Ô∏è  
- `StreamingTV` ‚Äî —Å—Ç—Ä–∏–º–∏–Ω–≥–æ–≤–æ–µ –¢–í (0/1) üì∫  
- `StreamingMovies` ‚Äî —Å—Ç—Ä–∏–º–∏–Ω–≥ —Ñ–∏–ª—å–º–æ–≤ (0/1) üé¨  

### **–§–∏–Ω–∞–Ω—Å—ã** üí∏  
- `MonthlyCharges` ‚Äî –µ–∂–µ–º–µ—Å—è—á–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 79.85) üíµ  
- `TotalCharges` ‚Äî –æ–±—â–∞—è —Å—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 930.25) üí∞  

### **–°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ** üë®üë©üëßüë¶  
- `Partner` ‚Äî –Ω–∞–ª–∏—á–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞/—Å—É–ø—Ä—É–≥–∞ (0/1) üíç  
- `Dependents` ‚Äî –Ω–∞–ª–∏—á–∏–µ –∏–∂–¥–∏–≤–µ–Ω—Ü–µ–≤ (0/1) üë∂  

### **–õ–æ—è–ª—å–Ω–æ—Å—Ç—å** ‚è≥  
- `tenure` ‚Äî —Å—Ä–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É—Å–ª—É–≥–∞–º–∏ (–≤ –º–µ—Å—è—Ü–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä, 12) ‚è≥  

---

### **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è**  
- **–ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**  
  –ö–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `InternetService`, `Contract`) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ —á–∏—Å–ª–∞ —Å –ø–æ–º–æ—â—å—é `LabelEncoder`.  
- **–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**  
  –ú–æ–¥–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã (–±–µ–∑ NaN).  

---

## REST API üåê  
### **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/predict_file`  
**–ú–µ—Ç–æ–¥:** POST  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–≥—Ä—É–∂–∞–µ—Ç JSON-—Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.  

#### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (curl):  
```bash
curl -X POST "http://localhost:8000/predict_file" \
-H "Content-Type: multipart/form-data" \
-F "file=@input.json"
```

#### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:  
```json
{
  "status": "success",
  "message": "Predictions saved to prediction_results_1620000000.json",
  "results": [
    {
      "customerID": "12345",
      "prediction": "high_risk",
      "churn_probability": 0.85
    }
  ]
}
```

---

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ üñ•Ô∏è  
### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏  
```bash
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä  
```bash
uvicorn app:app --reload
```

### 3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker üê≥  
```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t churnshield .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -d -p 8000:8000 -v $(pwd)/output:/app churnshield
```

---

## –ü—Ä–∏–º–µ—Ä JSON –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è üìÅ  
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–∂–µ –≥–æ—Ç–æ–≤—ã–π `input.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –∂–µ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `data.json` –≤–∏–¥–∞:  
```json
[
  {
    "customerID": "12345",
    "gender": "Female",
    "SeniorCitizen": 0,
    "Partner": 1,
    "Dependents": 0,
    "tenure": 12,
    "PhoneService": 1,
    "MultipleLines": 0,
    "InternetService": 1,
    "OnlineSecurity": 0,
    "TechSupport": 0,
    "Contract": 1,
    "PaperlessBilling": 1,
    "PaymentMethod": 2,
    "MonthlyCharges": 79.85,
    "TotalCharges": 930.25
  }
]
```

---

## –ì–¥–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã? üíæ  
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª `prediction_results_*.json` –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  
- –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏—Ö –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker volume:  
  ```bash
  docker run -v $(pwd)/output:/app ...
  ```
  –§–∞–π–ª—ã –ø–æ—è–≤—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `output` –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.  

---
## –õ–∏—Ü–µ–Ω–∑–∏—è üìú

MIT License
---

**Note:** –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–∞ –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω–∞—è CatBoost-–º–æ–¥–µ–ª—å (`catboost_model.pkl`) –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
